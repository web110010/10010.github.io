<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Gotosocial With Cloudflare Tunnels and Docker | 110010 - Thoughts and Ideas</title>
<meta name="keywords" content="docker, microblogging, golang">
<meta name="description" content="What is GoToSocial GoToSocial provides a lightweight, customizable, and safety-focused entryway into the Fediverse, and is comparable to (but distinct from) existing projects such as Mastodon, Pleroma, Friendica, and PixelFed. -GitHub - gotosocial
In simple words it is a simple micro-blogging application with connectivity to other fediverse applications.
It is also compatible with mastodon API.
GoToSocial over Mastodon There are quite a few reasons to run GoToSocial instance.
It is simpler to run and very easy to setup.">
<meta name="author" content="">
<link rel="canonical" href="https://www.110010.win/posts/gotosocial-with-cloudflare-tunnels-and-docker/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css" integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe&#43;FVUFzPh7U=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://www.110010.win/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.110010.win/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.110010.win/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.110010.win/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.110010.win/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><a rel="me" href="https://mastodon.social/@lohiarajat"/><meta property="og:title" content="Gotosocial With Cloudflare Tunnels and Docker" />
<meta property="og:description" content="What is GoToSocial GoToSocial provides a lightweight, customizable, and safety-focused entryway into the Fediverse, and is comparable to (but distinct from) existing projects such as Mastodon, Pleroma, Friendica, and PixelFed. -GitHub - gotosocial
In simple words it is a simple micro-blogging application with connectivity to other fediverse applications.
It is also compatible with mastodon API.
GoToSocial over Mastodon There are quite a few reasons to run GoToSocial instance.
It is simpler to run and very easy to setup." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.110010.win/posts/gotosocial-with-cloudflare-tunnels-and-docker/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-03T16:33:11+08:32" />
<meta property="article:modified_time" content="2023-07-03T16:33:11+08:32" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Gotosocial With Cloudflare Tunnels and Docker"/>
<meta name="twitter:description" content="What is GoToSocial GoToSocial provides a lightweight, customizable, and safety-focused entryway into the Fediverse, and is comparable to (but distinct from) existing projects such as Mastodon, Pleroma, Friendica, and PixelFed. -GitHub - gotosocial
In simple words it is a simple micro-blogging application with connectivity to other fediverse applications.
It is also compatible with mastodon API.
GoToSocial over Mastodon There are quite a few reasons to run GoToSocial instance.
It is simpler to run and very easy to setup."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://www.110010.win/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Gotosocial With Cloudflare Tunnels and Docker",
      "item": "https://www.110010.win/posts/gotosocial-with-cloudflare-tunnels-and-docker/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Gotosocial With Cloudflare Tunnels and Docker",
  "name": "Gotosocial With Cloudflare Tunnels and Docker",
  "description": "What is GoToSocial GoToSocial provides a lightweight, customizable, and safety-focused entryway into the Fediverse, and is comparable to (but distinct from) existing projects such as Mastodon, Pleroma, Friendica, and PixelFed. -GitHub - gotosocial\nIn simple words it is a simple micro-blogging application with connectivity to other fediverse applications.\nIt is also compatible with mastodon API.\nGoToSocial over Mastodon There are quite a few reasons to run GoToSocial instance.\nIt is simpler to run and very easy to setup.",
  "keywords": [
    "docker", "microblogging", "golang"
  ],
  "articleBody": "What is GoToSocial GoToSocial provides a lightweight, customizable, and safety-focused entryway into the Fediverse, and is comparable to (but distinct from) existing projects such as Mastodon, Pleroma, Friendica, and PixelFed. -GitHub - gotosocial\nIn simple words it is a simple micro-blogging application with connectivity to other fediverse applications.\nIt is also compatible with mastodon API.\nGoToSocial over Mastodon There are quite a few reasons to run GoToSocial instance.\nIt is simpler to run and very easy to setup.\nPersonal instances don’t need a big heavy mastodon server.\nCustomizable CSS for account pages.\nA few cons It is still under development and is not feature complete with mastodon, plemora and other fediverse microblogging programs.\nIt doesn’t have an integrated client front-end, basically you cannot post directly from the site. Personally I like this way more, since I find 3rd party clients much better.\nI use Tuba for desktop and Tusky for my phone.\n3rd party apps still have bugs, with GoToSocial and sometimes bug out.\nFedilab just keeps on crashing for me.\nDocker Docker is a set of platform as a service (PaaS) products that use OS-level virtualization to deliver software in packages called containers.[5] The service has both free and premium tiers. The software that hosts the containers is called Docker Engine.[6] It was first started in 2013 and is developed by Docker, Inc.[7] ~ Docker (software) - Wikipedia\nIt containerizes apps and makes them easier to deploy and maintain. It is the most beautiful thing ever. Once you use it, you want everything to be a docker app. So simple so elegant.\nGet Started here: Overview | Docker Documentation\nA bit about Cloudflare Tunnels A good way to describe it for my purpose would be a cornered man’s port-forwarding. They do have their advantages in terms of security and ease of use and security compared to normal port forwarding.\nA cloudflare tunnel, routes a service, without needing port-forwarding or a publicly routable IP address. You can use it with CGNAT ip addresses!.\nThere are other more complex and desirable features that cloudflare provides with their cloudflare tunnels, you should check it out. Over the years cloudflare is one of the companies, I’ve truly had a good experience with.\nThere are other providers and self hosting options for this purpose available, I just use cloudflare because they are my domain registrar. The process for other providers should be similar. Their UI is also a joy to use albeit a bit slow.\nI use it at home because my ISP blocks port-forwarding and for my Oracle cloud instance. Oracle provides a free tier for hosting cloud instances, but the ways in which they have scarred me…. by using their god awful UI, laggy ssh sessions which kill themselves mid command, I could simply use an A name record to point to the oracle provided ip-address, but that is giving Oracle too much power.\nMy two cents about using Oracle:\nDon’t.\nIf there is no other choice, use as less of Oracle as possible.\nI applied to their pay as you go plan so that they don’t just delete my free instance, for “verification” they deducted 100 USD from my account, that scared the ever living shit out of me, until I got the message 1 minute later from my bank, that it was reversed. At least give a warning saying you will be checking for 100 USD, by deducting and refunding it.\nI have since terminated my Oracle Cloud Account.\nChecklist before starting A device with docker installed. (If the device is a windows machine, change the bash command to however they suit you, I have no idea how it works.)\nInternet connection.\nDomain name to point to. If using cloudflare ensure the domain is available at cloudflare. For other services, do whatever they say for you having the needed rights for pointing a domain name.\nInstructions Step 1: Installing GoToSocial On your machine create directory gotosocial and sub directory data and file docker-compose.yaml:\nAlternatively: follow the official docs and edit docker-compose.yml accordingly in next step.\n1 2 3 mkdir -p ~/gotosocial/data cd gotosocial touch docker-compose.yaml Paste the following in your docker-compose.yaml:\nEdit the following parameters:\nGTS_HOST\nGTS_ACCOUNT_DOMAIN, remove if you do not want account delegation. Having is makes your handle as @handle@example.com instead of @handle@gts.example.com.\npath/to/data should be the complete path, do not use ~ like ~/gotosocial/data , it errors out and the container keeps restarting. Read more about it here.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 version: \"3.3\" services: gotosocial: image: superseriousbusiness/gotosocial:latest container_name: gotosocial user: 1000:1000 hostname: gts.docker # If you change this remember the hostname networks: - gotosocial environment: GTS_HOST: gts.example.com # Change Me GTS_ACCOUNT_DOMAIN: example.com # Change Me GTS_DB_TYPE: sqlite GTS_DB_ADDRESS: /gotosocial/storage/sqlite.db GTS_LETSENCRYPT_ENABLED: \"false\" GTS_LETSENCRYPT_EMAIL_ADDRESS: \"\" volumes: - /path/to/data:/gotosocial/storage #Change path restart: \"always\" networks: gotosocial: ipam: driver: default Now simply docker-compose up -d or docker compose up -d.\nCheck if gotosocial is working correctly by running docker logs -f gotosocial. If it is running correctly, you should get similar message:\n1 2 3 4 5 6 7 8 time=2022-04-19T09:48:35Z level=info msg=connected to SQLITE database time=2022-04-19T09:48:35Z level=info msg=MIGRATED DATABASE TO group #1 (20211113114307, 20220214175650, 20220305130328, 20220315160814) func=doMigration time=2022-04-19T09:48:36Z level=info msg=instance account example.org CREATED with id 01EXX0TJ9PPPXF2C4N2MMMVK50 time=2022-04-19T09:48:36Z level=info msg=created instance instance example.org with id 01PQT31C7BZJ1Q2Z4BMEV90ZCV time=2022-04-19T09:48:36Z level=info msg=media manager cron logger: start[] time=2022-04-19T09:48:36Z level=info msg=media manager cron logger: schedule[now 2022-04-19 09:48:36.096127852 +0000 UTC entry 1 next 2022-04-20 00:00:00 +0000 UTC] time=2022-04-19T09:48:36Z level=info msg=started media manager remote cache cleanup job: will run next at 2022-04-20 00:00:00 +0000 UTC time=2022-04-19T09:48:36Z level=info msg=listening on 0.0.0.0:8080 Step 2: Setting up Cloudflare Zero Trust Login to your cloudflare account and select Zero Trust in the sidebar.\nSignup for a free account.\nStep 3: Create a tunnel Login to your Zero Trust account.\nOn the sidebar select Access then in the sub-menu Tunnels.\nSelect Create a tunnel, then name your tunnel and Save Tunnel.\nDo not close the webpage yet.\nStep 4: Installing cloudflared In a new folder create a new docker-compose.yaml.\n1 2 3 4 cd ~ # Or wherever you want to create the folder mkdir cloudflared cd cloudflared touch docker-compose.yaml In the docker-compose.yaml file add the following, replacing with the token from the cloudflare tunnels webpage.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 version: \"3.9\" services: tunnel: container_name: cloudflared networks: - gotosocial_gotosocial image: cloudflare/cloudflared restart: unless-stopped command: tunnel run environment: - TUNNEL_TOKEN= networks: gotosocial_gotosocial: external: true Save the file and docker-compose up -dordocker compose up -d.\nBack on your cloudflare tunnels page, scroll down to check if connector is connected. If it shows a connector hit save.\nIf you want to add other services to this cloudflare tunnel simply add their networks to the above docker file like how the gotosocial_gotosocial network is added and run docker compose up -d.\nYou can also do this the other way round, creating a cloudflared specific network and then adding it to your apps as you create them, but i don’t recommend it because then all your services are connected to that network and can access each other. This way only cloudflared is connected to your services.\nIf you want a good GUI for docker portainer is an incredible tool.\nStep 5: Pointing your domain name Choose whatever domain you want.\nIn Service add:\nType: HTTP\nURL: gts.docker:8080 (replace gts.docker with whatever hostname you put in Step 1 and 8080is the port where GoToSocial is listening.)\nSelect Save hostname.\nremove/change sub-domain as you see fit.\nVoila!! If you did everything correctly your GoToSocial instance should be up and running. Access it at gts.whatever-your-domain-is. Now go wild.\nBonus Round: Creating users To create a user:\n1 2 3 4 5 6 docker exec -it CONTAINER_NAME_OR_ID \\ /gotosocial/gotosocial \\ admin account create \\ --username some_username \\ --email someone@example.org \\ --password 'some_very_good_password' And then to promote the created user to admin:\n1 2 3 4 docker exec -it CONTAINER_NAME_OR_ID \\ /gotosocial/gotosocial \\ admin account promote \\ --username some_username Further Reading I recommend reading the GoToSocial Documentation as it was quite helpful making this. Overall it is well-written, missing a few things here and there. You can also find further configuration options there.\n",
  "wordCount" : "1383",
  "inLanguage": "en",
  "datePublished": "2023-07-03T16:33:11+08:32",
  "dateModified": "2023-07-03T16:33:11+08:32",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.110010.win/posts/gotosocial-with-cloudflare-tunnels-and-docker/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "110010 - Thoughts and Ideas",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.110010.win/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.110010.win/" accesskey="h" title="110010 - Thoughts and Ideas (Alt + H)">110010 - Thoughts and Ideas</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.110010.win/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://www.110010.win/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://www.110010.win/archive/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://www.110010.win/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://www.110010.win/contact/" title="Contact me">
                    <span>Contact me</span>
                </a>
            </li>
            <li>
                <a href="https://www.110010.win/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Gotosocial With Cloudflare Tunnels and Docker
    </h1>
    <div class="post-meta"><span title='2023-07-03 16:33:11 +0832 +0832'>July 3, 2023</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#what-is-gotosocial" aria-label="What is GoToSocial">What is GoToSocial</a><ul>
                        
                <li>
                    <a href="#gotosocial-over-mastodon" aria-label="GoToSocial over Mastodon">GoToSocial over Mastodon</a></li>
                <li>
                    <a href="#a-few-cons" aria-label="A few cons">A few cons</a></li></ul>
                </li>
                <li>
                    <a href="#docker" aria-label="Docker">Docker</a></li>
                <li>
                    <a href="#a-bit-about-cloudflare-tunnels" aria-label="A bit about Cloudflare Tunnels">A bit about Cloudflare Tunnels</a></li>
                <li>
                    <a href="#checklist-before-starting" aria-label="Checklist before starting">Checklist before starting</a></li>
                <li>
                    <a href="#instructions" aria-label="Instructions">Instructions</a><ul>
                        
                <li>
                    <a href="#step-1-installing-gotosocial" aria-label="Step 1: Installing GoToSocial">Step 1: Installing GoToSocial</a></li>
                <li>
                    <a href="#step-2-setting-up-cloudflare-zero-trust" aria-label="Step 2: Setting up Cloudflare Zero Trust">Step 2: Setting up Cloudflare Zero Trust</a></li>
                <li>
                    <a href="#step-3-create-a-tunnel" aria-label="Step 3: Create a tunnel">Step 3: Create a tunnel</a></li>
                <li>
                    <a href="#step-4-installing-cloudflared" aria-label="Step 4: Installing cloudflared">Step 4: Installing cloudflared</a></li>
                <li>
                    <a href="#step-5-pointing-your-domain-name" aria-label="Step 5: Pointing your domain name">Step 5: Pointing your domain name</a></li></ul>
                </li>
                <li>
                    <a href="#voila" aria-label="Voila!!">Voila!!</a></li>
                <li>
                    <a href="#bonus-round-creating-users" aria-label="Bonus Round: Creating users">Bonus Round: Creating users</a></li>
                <li>
                    <a href="#further-reading" aria-label="Further Reading">Further Reading</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="what-is-gotosocial">What is GoToSocial<a hidden class="anchor" aria-hidden="true" href="#what-is-gotosocial">#</a></h2>
<blockquote>
<p>GoToSocial provides a lightweight, customizable, and safety-focused entryway into the <a href="https://en.wikipedia.org/wiki/Fediverse">Fediverse</a>, and is comparable to (but distinct from) existing projects such as <a href="https://joinmastodon.org/">Mastodon</a>, <a href="https://pleroma.social/">Pleroma</a>, <a href="https://friendi.ca">Friendica</a>, and <a href="https://pixelfed.org/">PixelFed</a>.  <em>-<a href="https://github.com/superseriousbusiness/gotosocial#what-is-gotosocial">GitHub - gotosocial</a></em></p>
</blockquote>
<p>In simple words it is a simple micro-blogging application with connectivity to other fediverse applications.</p>
<p>It is also compatible with mastodon API.</p>
<p><img loading="lazy" src="https://i.imgur.com/vZQ3xlR.png#center" alt="GoToSocial"  />
</p>
<h3 id="gotosocial-over-mastodon">GoToSocial over Mastodon<a hidden class="anchor" aria-hidden="true" href="#gotosocial-over-mastodon">#</a></h3>
<p>There are quite a few reasons to run <em>GoToSocial</em> instance.</p>
<ol>
<li>
<p>It is simpler to run and very easy to setup.</p>
</li>
<li>
<p>Personal instances don&rsquo;t need a big heavy mastodon server.</p>
</li>
<li>
<p><a href="https://github.com/superseriousbusiness/gotosocial/blob/main/docs/user_guide/custom_css.md">Customizable CSS</a> for account pages.</p>
</li>
</ol>
<h3 id="a-few-cons">A few cons<a hidden class="anchor" aria-hidden="true" href="#a-few-cons">#</a></h3>
<ol>
<li>
<p>It is still under development and is not feature complete with mastodon, plemora and other fediverse microblogging programs.</p>
</li>
<li>
<p>It doesn&rsquo;t have an integrated client front-end, basically you cannot post directly from the site. Personally I like this way more, since I find 3rd party clients much better.</p>
<blockquote>
<p>I use <a href="https://tuba.geopjr.dev/">Tuba</a> for desktop and <a href="https://tusky.app/">Tusky</a> for my phone.</p>
</blockquote>
</li>
<li>
<p>3rd party apps still have bugs, with <em>GoToSocial</em> and sometimes bug out.</p>
<blockquote>
<p><a href="https://febilab.app">Fedilab</a> just keeps on crashing for me.</p>
</blockquote>
</li>
</ol>
<hr>
<h2 id="docker">Docker<a hidden class="anchor" aria-hidden="true" href="#docker">#</a></h2>
<blockquote>
<p><strong>Docker</strong> is a set of <a href="https://en.wikipedia.org/wiki/Platform_as_a_service" title="Platform as a service">platform as a service</a> (PaaS) products that use <a href="https://en.wikipedia.org/wiki/OS-level_virtualization" title="OS-level virtualization">OS-level virtualization</a> to deliver software in packages called <em><a href="https://en.wikipedia.org/wiki/Container_(virtualization)" title="Container (virtualization)">containers</a></em>.<a href="https://en.wikipedia.org/wiki/Docker_(software)#cite_note-SYS-CON_Media-5">[5]</a>
The service has both free and premium tiers. The software that hosts the containers is called <strong>Docker Engine</strong>.<a href="https://en.wikipedia.org/wiki/Docker_(software)#cite_note-what-is-a-container-6">[6]</a> It was first started in 2013 and is developed by <a href="https://en.wikipedia.org/wiki/Docker,_Inc." title="Docker, Inc.">Docker, Inc.</a><a href="https://en.wikipedia.org/wiki/Docker_(software)#cite_note-os4u-7">[7]</a> ~ <a href="https://en.wikipedia.org/wiki/Docker_(software)">Docker (software) - Wikipedia</a></p>
</blockquote>
<p>It containerizes apps and makes them easier to deploy and maintain. It is the most beautiful thing ever. Once you use it, you want everything to be a docker app. So simple so elegant.</p>
<p>Get Started here: <a href="https://docs.docker.com/get-started/">Overview | Docker Documentation</a></p>
<hr>
<h2 id="a-bit-about-cloudflare-tunnels">A bit about Cloudflare Tunnels<a hidden class="anchor" aria-hidden="true" href="#a-bit-about-cloudflare-tunnels">#</a></h2>
<p>A good way to describe it for <strong>my purpose</strong> would be a cornered man&rsquo;s port-forwarding. They do have their advantages in terms of security and ease of use and security compared to normal port forwarding.</p>
<p>A cloudflare tunnel, routes a service, without needing port-forwarding or a publicly routable IP address. You can use it with <em>CGNAT ip addresses!.</em></p>
<p>There are other more complex and desirable features that cloudflare provides with their cloudflare tunnels, you should check it out. Over the years cloudflare is one of the companies, I&rsquo;ve truly had a good experience with.</p>
<p>There are other providers and self hosting options for this purpose available, I just use cloudflare because they are my domain registrar. The process for other providers should be similar. Their UI is also a joy to use albeit a bit slow.</p>
<blockquote>
<p>I use it at home because my ISP blocks port-forwarding and for my Oracle cloud instance. Oracle provides a free tier for hosting cloud instances, but the ways in which they have scarred me&hellip;. by using their god awful UI, laggy ssh sessions which kill themselves mid command, I could simply use an <code>A</code> name record to point to the oracle provided ip-address, but that is giving <em>Oracle</em> too much power.</p>
<blockquote>
<p>My two cents about using <em>Oracle</em>:</p>
<ol>
<li>
<p>Don&rsquo;t.</p>
</li>
<li>
<p>If there is no other choice, use as less of <em>Oracle</em> as possible.</p>
</li>
</ol>
<p><em>I applied to their <strong>pay as you go</strong> plan so that they don&rsquo;t just delete my free instance, for <strong>&ldquo;verification&rdquo;</strong> they deducted 100 USD from my account, that scared the ever living shit out of me, until I got the message 1 minute later from my bank, that it was reversed. At least give a warning saying you will be checking for 100 USD, by deducting and refunding it.</em></p>
<p>I have since terminated my <em>Oracle Cloud Account</em>.</p>
</blockquote>
</blockquote>
<hr>
<h2 id="checklist-before-starting">Checklist before starting<a hidden class="anchor" aria-hidden="true" href="#checklist-before-starting">#</a></h2>
<ul>
<li>
<p>A device with docker installed. (If the device is a windows machine, change the bash command to however they suit you, I have no idea how it works.)</p>
</li>
<li>
<p>Internet connection.</p>
</li>
<li>
<p>Domain name to point to. If using cloudflare ensure the domain is available at cloudflare. For other services, do whatever they say for you having the needed rights for pointing a domain name.</p>
</li>
</ul>
<hr>
<h2 id="instructions">Instructions<a hidden class="anchor" aria-hidden="true" href="#instructions">#</a></h2>
<h3 id="step-1-installing-gotosocial">Step 1: Installing GoToSocial<a hidden class="anchor" aria-hidden="true" href="#step-1-installing-gotosocial">#</a></h3>
<ol>
<li>
<p>On your machine create directory <code>gotosocial</code> and sub directory <code>data</code> and file <code>docker-compose.yaml</code>:</p>
<blockquote>
<p>Alternatively: follow the <a href="https://docs.gotosocial.org/en/latest/getting_started/installation/container/">official docs</a> and edit <code>docker-compose.yml</code> accordingly in next step.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkdir -p ~/gotosocial/data
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> gotosocial
</span></span><span class="line"><span class="cl">touch docker-compose.yaml
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Paste the following in your <code>docker-compose.yaml</code>:</p>
<p>Edit the following parameters:</p>
<ol>
<li>
<p><code>GTS_HOST</code></p>
</li>
<li>
<p><code>GTS_ACCOUNT_DOMAIN</code>, remove if you do not want account delegation. Having is makes your handle as <code>@handle@example.com</code> instead of <code>@handle@gts.example.com</code>.</p>
</li>
<li>
<p><code>path/to/data</code> should be the complete path, do not use <code>~</code> like <code>~/gotosocial/data</code> , it errors out and the container keeps restarting. <a href="https://github.com/superseriousbusiness/gotosocial/issues/476">Read more about it here.</a></p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;3.3&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">gotosocial</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">superseriousbusiness/gotosocial:latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">gotosocial</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="m">1000</span><span class="p">:</span><span class="m">1000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l">gts.docker</span><span class="w"> </span><span class="c"># If you change this remember the hostname</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">gotosocial</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">GTS_HOST</span><span class="p">:</span><span class="w"> </span><span class="l">gts.example.com</span><span class="w"> </span><span class="c"># Change Me</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">GTS_ACCOUNT_DOMAIN</span><span class="p">:</span><span class="w"> </span><span class="l">example.com</span><span class="w"> </span><span class="c"># Change Me</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">GTS_DB_TYPE</span><span class="p">:</span><span class="w"> </span><span class="l">sqlite</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">GTS_DB_ADDRESS</span><span class="p">:</span><span class="w"> </span><span class="l">/gotosocial/storage/sqlite.db</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">GTS_LETSENCRYPT_ENABLED</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;false&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">GTS_LETSENCRYPT_EMAIL_ADDRESS</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/path/to/data:/gotosocial/storage</span><span class="w"> </span><span class="c">#Change path</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;always&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">gotosocial</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ipam</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l">default</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>
<p>Now simply <code>docker-compose up -d</code> or <code>docker compose up -d</code>.</p>
</li>
<li>
<p>Check if <code>gotosocial</code> is working correctly by running <code>docker logs -f gotosocial</code>. If it is running correctly, you should get similar message:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">time</span><span class="o">=</span>2022-04-19T09:48:35Z <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span>connected to SQLITE database
</span></span><span class="line"><span class="cl"><span class="nv">time</span><span class="o">=</span>2022-04-19T09:48:35Z <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span>MIGRATED DATABASE TO group <span class="c1">#1 (20211113114307, 20220214175650, 20220305130328, 20220315160814) func=doMigration</span>
</span></span><span class="line"><span class="cl"><span class="nv">time</span><span class="o">=</span>2022-04-19T09:48:36Z <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span>instance account example.org CREATED with id 01EXX0TJ9PPPXF2C4N2MMMVK50
</span></span><span class="line"><span class="cl"><span class="nv">time</span><span class="o">=</span>2022-04-19T09:48:36Z <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span>created instance instance example.org with id 01PQT31C7BZJ1Q2Z4BMEV90ZCV
</span></span><span class="line"><span class="cl"><span class="nv">time</span><span class="o">=</span>2022-04-19T09:48:36Z <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span>media manager cron logger: start<span class="o">[]</span>
</span></span><span class="line"><span class="cl"><span class="nv">time</span><span class="o">=</span>2022-04-19T09:48:36Z <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span>media manager cron logger: schedule<span class="o">[</span>now 2022-04-19 09:48:36.096127852 +0000 UTC entry <span class="m">1</span> next 2022-04-20 00:00:00 +0000 UTC<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="nv">time</span><span class="o">=</span>2022-04-19T09:48:36Z <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span>started media manager remote cache cleanup job: will run next at 2022-04-20 00:00:00 +0000 UTC
</span></span><span class="line"><span class="cl"><span class="nv">time</span><span class="o">=</span>2022-04-19T09:48:36Z <span class="nv">level</span><span class="o">=</span>info <span class="nv">msg</span><span class="o">=</span>listening on 0.0.0.0:8080
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
</ol>
<h3 id="step-2-setting-up-cloudflare-zero-trust">Step 2: Setting up Cloudflare Zero Trust<a hidden class="anchor" aria-hidden="true" href="#step-2-setting-up-cloudflare-zero-trust">#</a></h3>
<ol>
<li>
<p>Login to your cloudflare account and select <code>Zero Trust</code> in the sidebar.</p>
</li>
<li>
<p>Signup for a free account.</p>
</li>
</ol>
<h3 id="step-3-create-a-tunnel">Step 3: Create a tunnel<a hidden class="anchor" aria-hidden="true" href="#step-3-create-a-tunnel">#</a></h3>
<ol>
<li>
<p>Login to your Zero Trust account.</p>
</li>
<li>
<p>On the sidebar select <code>Access</code> then in the sub-menu <code>Tunnels</code>.</p>
</li>
<li>
<p>Select <code>Create a tunnel</code>, then name your tunnel and <code>Save Tunnel</code>.</p>
</li>
<li>
<p><strong>Do not close the webpage yet.</strong></p>
</li>
</ol>
<h3 id="step-4-installing-cloudflared">Step 4: Installing cloudflared<a hidden class="anchor" aria-hidden="true" href="#step-4-installing-cloudflared">#</a></h3>
<ol>
<li>
<p>In a new folder create a new <code>docker-compose.yaml</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> ~ <span class="c1"># Or wherever you want to create the folder</span>
</span></span><span class="line"><span class="cl">mkdir cloudflared
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> cloudflared
</span></span><span class="line"><span class="cl">touch docker-compose.yaml
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>In the <code>docker-compose.yaml</code> file add the following, replacing <code>&lt;token&gt;</code> with the token from the cloudflare tunnels webpage.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;3.9&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="nt">tunnel</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">cloudflared</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span>- <span class="l">gotosocial_gotosocial</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">cloudflare/cloudflared</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">unless-stopped</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">tunnel run</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span>- <span class="l">TUNNEL_TOKEN=&lt;token&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="nt">gotosocial_gotosocial</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Save the file and <code>docker-compose up -d</code>or<code>docker compose up -d</code>.</p>
</li>
</ol>
<p>Back on your cloudflare tunnels page, scroll down to check if connector is connected. If it shows a connector hit save.</p>
<blockquote>
<p>If you want to add other services to this cloudflare tunnel simply add their networks to the above docker file like how the <code>gotosocial_gotosocial</code> network is added and run <code>docker compose up -d</code>.</p>
<p>You can also do this the other way round, creating a cloudflared specific network and then adding it to your apps as you create them, but i don&rsquo;t recommend it because then all your services are connected to that network and can access each other. This way only cloudflared is connected to your services.</p>
<blockquote>
<p>If you want a good GUI for docker <a href="https://www.portainer.io/">portainer</a> is an incredible tool.</p>
</blockquote>
</blockquote>
<h3 id="step-5-pointing-your-domain-name">Step 5: Pointing your domain name<a hidden class="anchor" aria-hidden="true" href="#step-5-pointing-your-domain-name">#</a></h3>
<ol>
<li>
<p>Choose whatever <code>domain</code> you want.</p>
</li>
<li>
<p>In <code>Service</code> add:</p>
<ul>
<li>
<p>Type: HTTP</p>
</li>
<li>
<p>URL: <code>gts.docker:8080</code> (replace <code>gts.docker</code> with whatever hostname you put in Step 1 and <code>8080</code>is the port where GoToSocial is listening.)</p>
</li>
</ul>
</li>
<li>
<p>Select <code>Save hostname</code>.</p>
</li>
</ol>
<p><img loading="lazy" src="https://i.imgur.com/ZrmWHv7.png#center" alt="Basic Idea"  />
</p>
<blockquote>
<p>remove/change sub-domain as you see fit.</p>
</blockquote>
<h2 id="voila">Voila!!<a hidden class="anchor" aria-hidden="true" href="#voila">#</a></h2>
<p>If you did everything correctly your GoToSocial instance should be up and running. Access it at <code>gts.whatever-your-domain-is</code>. Now go <strong>wild.</strong></p>
<h2 id="bonus-round-creating-users">Bonus Round: Creating users<a hidden class="anchor" aria-hidden="true" href="#bonus-round-creating-users">#</a></h2>
<p>To create a user:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker <span class="nb">exec</span> -it CONTAINER_NAME_OR_ID <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> /gotosocial/gotosocial <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> admin account create <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --username some_username <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --email someone@example.org <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --password <span class="s1">&#39;some_very_good_password&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>And then to promote the created user to admin:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker <span class="nb">exec</span> -it CONTAINER_NAME_OR_ID <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    /gotosocial/gotosocial <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    admin account promote <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    --username some_username
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="further-reading">Further Reading<a hidden class="anchor" aria-hidden="true" href="#further-reading">#</a></h2>
<p>I recommend reading the <a href="https://docs.gotosocial.org/en/latest/">GoToSocial Documentation</a> as it was quite helpful making this. Overall it is well-written, missing a few things here and there. You can also find further configuration options there.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.110010.win/tags/docker/">docker</a></li>
      <li><a href="https://www.110010.win/tags/microblogging/">microblogging</a></li>
      <li><a href="https://www.110010.win/tags/golang/">golang</a></li>
    </ul>

<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Gotosocial With Cloudflare Tunnels and Docker on twitter"
        href="https://twitter.com/intent/tweet/?text=Gotosocial%20With%20Cloudflare%20Tunnels%20and%20Docker&amp;url=https%3a%2f%2fwww.110010.win%2fposts%2fgotosocial-with-cloudflare-tunnels-and-docker%2f&amp;hashtags=docker%2cmicroblogging%2cgolang">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Gotosocial With Cloudflare Tunnels and Docker on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.110010.win%2fposts%2fgotosocial-with-cloudflare-tunnels-and-docker%2f&amp;title=Gotosocial%20With%20Cloudflare%20Tunnels%20and%20Docker&amp;summary=Gotosocial%20With%20Cloudflare%20Tunnels%20and%20Docker&amp;source=https%3a%2f%2fwww.110010.win%2fposts%2fgotosocial-with-cloudflare-tunnels-and-docker%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Gotosocial With Cloudflare Tunnels and Docker on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2fwww.110010.win%2fposts%2fgotosocial-with-cloudflare-tunnels-and-docker%2f&title=Gotosocial%20With%20Cloudflare%20Tunnels%20and%20Docker">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Gotosocial With Cloudflare Tunnels and Docker on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.110010.win%2fposts%2fgotosocial-with-cloudflare-tunnels-and-docker%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Gotosocial With Cloudflare Tunnels and Docker on whatsapp"
        href="https://api.whatsapp.com/send?text=Gotosocial%20With%20Cloudflare%20Tunnels%20and%20Docker%20-%20https%3a%2f%2fwww.110010.win%2fposts%2fgotosocial-with-cloudflare-tunnels-and-docker%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Gotosocial With Cloudflare Tunnels and Docker on telegram"
        href="https://telegram.me/share/url?text=Gotosocial%20With%20Cloudflare%20Tunnels%20and%20Docker&amp;url=https%3a%2f%2fwww.110010.win%2fposts%2fgotosocial-with-cloudflare-tunnels-and-docker%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>
  </footer><div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "www-110010-win" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://www.110010.win/">110010 - Thoughts and Ideas</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><hr>
<div>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>
All posts are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
</div>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
